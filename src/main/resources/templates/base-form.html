<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>

</head>
<body>

</body>
<form
        th:fragment="author_form(authorRequest)"
        action="/brs/admin/author/save"
        th:method="POST"
        th:object="${authorRequest}"
        th:with="authorRequest=${authorRequest}"
        class="d-flex flex-column gap-4"
>
    <h1 th:text="${authorRequest.id} ? 'Update Author' : 'Register a New Author'"></h1>
    <input type="text" th:field="*{id}" hidden>

    <div class="form-group">
        <label for="authorName">Author Name</label>
        <input th:field="*{name}"
               th:classappend="*{#fields.hasErrors('name')}? 'is-invalid'"
               type="text" class="form-control" id="authorName" placeholder="eg: Shashi Kumar Panta">
        <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="invalid-feedback">Name error</span>
    </div>

<!--    <div class="form-group">-->
<!--        <label for="authorEmail">Email</label>-->
<!--        <input th:field="*{email}"-->
<!--               th:classappend="*{#fields.hasErrors('email')}? 'is-invalid'"-->
<!--               type="email" class="form-control" id="authorEmail" aria-describedby="authorEmailHelp"-->
<!--               placeholder="Enter email">-->
<!--        <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="invalid-feedback">Email error</span>-->
<!--    </div>-->

    <div class="form-group">
        <label for="authorEmail">Email</label>
        <input th:field="*{email}"
               th:classappend="*{#fields.hasErrors('email')}? 'is-invalid'"
               type="text" class="form-control" id="authorEmail"
               placeholder="Enter email">
        <span
                th:if="${#fields.hasErrors('email')}"
                th:errors="*{email}"
                class="invalid-feedback"
        >Name error</span>
    </div>

    <div class="form-group">
        <label for="authorPhoneNo">Phone Number</label>
        <input th:field="*{mobileNumber}"
               th:classappend="*{#fields.hasErrors('mobileNumber')}? 'is-invalid'"
               class="form-control" type="text" id="authorPhoneNo" name="phone" placeholder="eg: 9812347567">
        <span th:if="${#fields.hasErrors('mobileNumber')}" th:errors="*{mobileNumber}" class="invalid-feedback">Name error</span>
    </div>

    <button
            type="submit"
            class="btn"
            th:classappend="*{id}?'btn-info': 'btn-success'"
            th:text="*{id}? 'Update' : 'Save'"
    >{{Save}} Author
    </button>
</form>

